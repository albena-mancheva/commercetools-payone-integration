allprojects {
    group = 'com.commercetools'
    version = '0.1'

    project.buildDir = 'target'
}

subprojects {

    apply plugin: 'java'

    sourceCompatibility = '1.8'

    repositories {
        mavenCentral()
    }

    dependencies {
        compile 'io.sphere.sdk.jvm:sphere-java-client:1.0.0-M22'
        compile 'io.sphere.sdk.jvm:sphere-models:1.0.0-M22'

        testCompile 'junit:junit:4.12'
    }

}

task wrapper(type: Wrapper) {
    gradleVersion = '2.9'
}

project(":service") {
    dependencies {
        compile 'com.sparkjava:spark-core:2.3'
    }
}

project(":functionaltests") {
    dependencies {
        compile project(":service")
        testCompile 'org.concordion:concordion:1.5.1'
    }

    test {
        systemProperties['concordion.output.dir'] = "$reporting.baseDir/spec"
        systemProperties['CT_PROJECT_KEY'] = System.properties['CT_PROJECT_KEY']
        systemProperties['CT_CLIENT_ID'] = System.properties['CT_CLIENT_ID']
        systemProperties['CT_CLIENT_SECRET'] = System.properties['CT_CLIENT_SECRET']
    }
}
