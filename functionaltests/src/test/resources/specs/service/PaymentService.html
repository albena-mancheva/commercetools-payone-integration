<html xmlns:c="http://www.concordion.org/2007/concordion">
<head>
    <title>PaymentService</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<h1>Payment Service</h1>
<p>
    Test Payment Service CTP implementation
</p>

<ul>
    <li>payment.paymentMethodInfo.method: <span c:set="#paymentMethod">CREDIT_CARD</span></li>
    <li>payment.transactions[0].type: <span c:set="#transactionType">AUTHORIZATION</span></li>
</ul>

<div class="example">
    <h3>Test method <code>PaymentServiceImpl.createPayment()</code></h3>
    <table c:execute="#paymentResult = createPayment(#paymentName, #paymentMethodInterface, #paymentMethod, #interfaceIdPrefix, #centAmount, #currencyCode)">
        <tr>
            <th c:set="#paymentName">Payment Name</th>
            <th c:set="#paymentMethodInterface">Payment Method Interface</th>
            <th c:set="#paymentMethod">Payment Method</th>
            <th c:set="#interfaceIdPrefix">InterfaceId Prefix</th>
            <th c:set="#centAmount">Cent Amount</th>
            <th c:set="#currencyCode">Currency Code</th>
            <th c:assertEquals="#paymentResult.paymentStatus">Payment Status</th>
            <th c:echo="#paymentResult.paymentId">Payment ID (for information only)</th>
            <th c:echo="#paymentResult.interfaceId">Payment Interface ID (FIO)</th>
        </tr>
        <tr>
            <td>Payment 1</td>
            <td>PAYONE</td>
            <td>WALLET-PAYPAL</td>
            <td>PAYONE-WALLET-PAYPAL-1</td>
            <td>123</td>
            <td>EUR</td>
            <td>(null)</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 2</td>
            <td>PAYONE</td>
            <td>WALLET-PAYPAL</td>
            <td>PAYONE-WALLET-PAYPAL-2</td>
            <td>456</td>
            <td>USD</td>
            <td>(null)</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 3</td>
            <td>PAYTWO</td>
            <td>WALLET-PAYPAL</td>
            <td>PAYTWO-WALLET-PAYPAL-3</td>
            <td>789</td>
            <td>EUR</td>
            <td>(null)</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 4</td>
            <td>PAYTWO</td>
            <td>WALLET-PAYPAL</td>
            <td>PAYTWO-WALLET-PAYPAL-4</td>
            <td>987</td>
            <td>USD</td>
            <td>(null)</td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <h3>Test method <code>PaymentServiceImpl.getByPaymentMethodAndInterfaceId()</code></h3>
    <table c:execute="#paymentByInterfaceResult = getByPaymentMethodAndInterfaceId(#paymentName, #paymentMethodInterface)">
        <tr>
            <th c:set="#paymentName">Payment Name</th>
            <th c:set="#paymentMethodInterface">Payment Method Interface</th>
            <th c:assertEquals="#paymentByInterfaceResult.paymentMethod">Payment Method</th>
            <th c:assertEquals="#paymentByInterfaceResult.amountPlanned">Amount Planned</th>
            <th c:assertEquals="#paymentByInterfaceResult.interfaceIdPrefix">InterfaceId Prefix</th>
            <th c:echo="#paymentByInterfaceResult.interfaceId">Payment Interface ID (FIO)</th>
        </tr>
        <tr>
            <td>Payment 1</td>
            <td>PAYONE</td>
            <td>WALLET-PAYPAL</td>
            <td>1,23 EUR</td>
            <td>PAYONE-WALLET-PAYPAL-1</td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 2</td>
            <td>PAYONE</td>
            <td>WALLET-PAYPAL</td>
            <td>4,56 USD</td>
            <td>PAYONE-WALLET-PAYPAL-2</td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 3</td>
            <td>PAYTWO</td>
            <td>WALLET-PAYPAL</td>
            <td>7,89 EUR</td>
            <td>PAYTWO-WALLET-PAYPAL-3</td>
            <td></td>
        </tr>
        <tr>
            <td>Payment 4</td>
            <td>PAYTWO</td>
            <td>WALLET-PAYPAL</td>
            <td>9,87 USD</td>
            <td>PAYTWO-WALLET-PAYPAL-4</td>
            <td></td>
        </tr>
    </table>

</div>

</body>
</html>
